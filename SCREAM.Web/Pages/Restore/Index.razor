@page "/restore"

<PageTitle>Restore - SCREAM</PageTitle>

<MudText Typo="Typo.h3" Class="mb-4">Database Restore</MudText>

<MudPaper Class="pa-4 mb-4">
    <MudForm>
        <MudSelect T="string" Label="Storage Source" AnchorOrigin="Origin.BottomCenter">
            <MudSelectItem Value="@("s3")">S3 Storage</MudSelectItem>
            <MudSelectItem Value="@("b2")">Backblaze B2</MudSelectItem>
            <MudSelectItem Value="@("local")">Local Storage</MudSelectItem>
        </MudSelect>
        
        <MudSelect T="string" Label="Backup Set" AnchorOrigin="Origin.BottomCenter" Class="mt-3">
            <MudSelectItem Value="@("backup1")">sample_db_2025-03-04_120000</MudSelectItem>
        </MudSelect>
        
        <MudText Typo="Typo.h6" Class="mt-4 mb-2">Components to Restore</MudText>
        <MudGrid>
            <MudItem xs="12" sm="6" md="4">
                <MudCheckBox T="bool" @bind-Checked="restoreSchema" Label="Schema" Color="Color.Primary" />
            </MudItem>
            <MudItem xs="12" sm="6" md="4">
                <MudCheckBox T="bool" @bind-Checked="restoreData" Label="Data" Color="Color.Primary" />
            </MudItem>
            <MudItem xs="12" sm="6" md="4">
                <MudCheckBox T="bool" @bind-Checked="restoreFunctionSp" Label="Functions & SPs" Color="Color.Primary" />
            </MudItem>
            <MudItem xs="12" sm="6" md="4">
                <MudCheckBox T="bool" @bind-Checked="restoreViews" Label="Views" Color="Color.Primary" />
            </MudItem>
            <MudItem xs="12" sm="6" md="4">
                <MudCheckBox T="bool" @bind-Checked="restoreTriggers" Label="Triggers" Color="Color.Primary" />
            </MudItem>
            <MudItem xs="12" sm="6" md="4">
                <MudCheckBox T="bool" @bind-Checked="restoreEvents" Label="Events" Color="Color.Primary" />
            </MudItem>
        </MudGrid>
        
        <MudSelect T="string" Label="Destination Database" AnchorOrigin="Origin.BottomCenter" Class="mt-3">
            <MudSelectItem Value="@("default")">Default Connection</MudSelectItem>
        </MudSelect>
        
        <MudTextField @bind-Value="databaseName" Label="Database Name" Class="mt-3" />
        
        <MudButton Variant="Variant.Filled" Color="Color.Primary" Class="mt-4">Start Restore</MudButton>
    </MudForm>
</MudPaper>

@code {
    private bool restoreSchema = true;
    private bool restoreData = true;
    private bool restoreFunctionSp = true;
    private bool restoreViews = true;
    private bool restoreTriggers = true;
    private bool restoreEvents = true;
    private string databaseName = "";
}
